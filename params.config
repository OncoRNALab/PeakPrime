params {
  bam                 = null        // input RNAâ€‘seq BAM (spliced alignments)
  gtf                 = null        // gene annotation (same build as BAM)
  genes               = null        // text file: one Ensembl gene ID per line
  genome_package      = 'BSgenome.Hsapiens.UCSC.hg38' // choose the genome that matches the bam file, Bioconductor genome
  fasta               = null        // optional: genome FASTA file (alternative to BSgenome)

  min_window_mean     = null        // minimum required mean coverage across window (absolute value)
  min_window_mean_pct = null        // minimum window mean as % of gene peak coverage (overrides min_window_mean)
  max_gap             = null        // maximum allowed longest zero-coverage run (null to disable)
  search_slop         = 1000        // extra bases for BigWig import per chromosome
  trim_to_exon        = false       // trim final window to the exon containing the peak
  min_exonic_fraction = null        // minimum required exonic fraction of window (0-1)
  
  // New parameters for forced exonic trimming
  force_exonic_trimming = true      // force trimming to exon+UTR boundaries for primer safety
  min_trimmed_length = 30          // minimum length of trimmed region for primer design (bp)
  transcriptome_index = null        // bowtie2 index prefix for human transcriptome (e.g., 'transcriptome_idx')
  transcriptome_fasta = null        // transcriptome FASTA file for gene name mapping in alignment analysis
  max_primers_per_gene = 20          // maximum primers per gene for alignment QC
  primer3_settings    = 'config/primer3_settings.txt' // default settings
  
  // Primer alignment filtering (3' RNA-seq specific)
  distance_threshold = 400         // maximum distance from 3' end for alignments to be considered relevant (bp)
                                    // For 3' RNA-seq protocols, only alignments near the transcript 3' end matter
                                    // Increase to 2000-5000 for more permissive filtering
  
  // MACS2-specific parameters (current implementation)
  // Note: This pipeline uses MACS2 for statistically rigorous peak calling
  // Legacy derfinder-based parameters (pad, smooth_k, sliding_window, trim_low_coverage_pct) 
  // are no longer used in the current MACS2-based workflow
  macs2_qvalue_threshold = 0.05     // q-value (FDR) threshold for peak significance (controls both MACS2 calling and pipeline filtering)
  macs2_pvalue_threshold = null     // DEPRECATED: Use macs2_qvalue_threshold instead (maintained for backward compatibility)
  macs2_min_peak_score = 0          // minimum peak score threshold
  macs2_extsize = null              // fragment size for extending reads (--extsize, null for auto-detection)
  macs2_shift = null                // shift for reads in bp (--shift, null for auto-detection)
  peak_selection_metric = 'score'   // metric for selecting best peak per gene: 'score' or 'qvalue'
  peak_rank = 1                     // which ranked peak to select per gene: 1 for best, 2 for second-best, etc.
  
  outdir              = 'results'
  makeplots = false //by default skip ploting coverage
  
  // Parameters for makeplots workflow (when using --makeplots)
  bw                  = null        // BigWig file for plotting (required for --makeplots)
  peaks_tsv           = null        // peaks.tsv file (required for --makeplots)
  primer              = null        // primer targets BED file (optional for --makeplots, also accepts --primer_targets_bed)
  qc_tsv              = null        // QC summary file (optional for --makeplots)
  narrowpeak          = 'NO_FILE'   // MACS2 narrowPeak file to show all peaks (use 'NO_FILE' to disable)
}
